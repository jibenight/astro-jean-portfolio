---
import { Image } from 'astro:assets';
import Close from './Close.astro';
import aboutPortrait from '../assets/images/jean-portrait.jpg';
import ConsoleVideo from '../assets/images/console-video.png';
import Professeur from '../assets/images/professeur.png';
import Clavier from '../assets/images/clavier.png';
import Chatbot from '../assets/images/chatbot.png';
const yearsExperience = Math.max(0, new Date().getFullYear() - 2017);
---

<section id='about' class='about-section'>
  <Close onClick="closeSection('about')" />
  <div class='container-title'>
    <div class='title'>
      <h2>À propos de moi</h2>
      <p>Who I am</p>
    </div>
  </div>

  <div class='about-hero'>
    <div class='hero-media'>
      <div class='portrait-frame'>
        <div class='portrait-card'>
          <div class='portrait-mask'>
            <Image
              src={aboutPortrait}
              alt='Portrait de Jean Nguyen'
              width={480}
              height={480}
              class='portrait-img'
            />
          </div>
        </div>
        <div class='portrait-meta'>
          <span class='status-dot' aria-hidden='true'></span>
          Disponible pour missions et conseils produit
        </div>
      </div>
    </div>
    <div class='hero-text'>
      <p class='eyebrow'>Développeur front-end — Astro.js, Tailwind, Vite</p>
      <h3>Développeur front-end Astro/Tailwind, IA en soutien perfs.</h3>
      <p>
        J’aide les équipes à livrer des sites et back-offices rapides,
        accessibles et maintenables : Astro/Tailwind/Vite en stack cœur, et
        WordPress/Ghost/PHP/JS quand le contexte l’exige.
      </p>
      <p>
        Habitué aux environnements exigeants, je prends en charge intégration,
        optimisation Core Web Vitals, automatisation et debug. Je peux aussi
        onboarder un dev junior, auditer un front existant ou renforcer un
        chantier perfs sur un sprint court.
      </p>
      <p>
        Je privilégie le front (Astro/Tailwind) mais je peux prendre le relais
        fullstack quand il faut connecter un back Django/PHP ou poser une API
        Node.
      </p>
      <p>
        L’IA (Claude, ChatGPT, Gemini) m’assiste au quotidien pour analyser,
        prototyper, documenter et accélérer les revues, ce qui rehausse qualité
        et vitesse de livraison.
      </p>
      <ul class='hero-tags pill-list'>
        <li>Astro.build & Tailwind</li>
        <li>Optimisation Core Web Vitals</li>
        <li>Intégration back-office & API</li>
        <li>IA (Claude / ChatGPT / Gemini)</li>
      </ul>
      <div class='stats-grid'>
        <div>
          <strong>{yearsExperience} ans</strong>
          <span>d’expérience pro</span>
        </div>
        <div>
          <strong>Astro</strong>
          <span>stack de prédilection</span>
        </div>
        <div>
          <strong>Full remote</strong>
          <span>basé à Avignon</span>
        </div>
      </div>
    </div>
  </div>

  <section class='timeline'>
    <h3>Parcours</h3>
    <div class='timeline-list'>
      <div class='timeline-item'>
        <div class='timeline-date'>2023 - 2025</div>
        <div class='timeline-card'>
          <h4>Parent pause — CTO de mini-humain</h4>
          <p>
            Congé parental pour mon petit garçon : support 24/7, sprints de
            biberons et expertise “mode nuit” validée.
          </p>
          <ul class='timeline-tags pill-list'>
            <li>Skill bonus : résilience + café</li>
          </ul>
        </div>
      </div>
      <div class='timeline-item'>
        <div class='timeline-date'>2023</div>
        <div class='timeline-card'>
          <h4>GospelEvent — Front-end WordPress</h4>
          <p>
            Optimisation Core Web Vitals, automatisation WebP et coaching d’un
            dev junior pour fiabiliser le site.
          </p>
          <ul class='timeline-tags pill-list'>
            <li>Perf web</li>
            <li>WebP auto</li>
            <li>Coaching dev</li>
          </ul>
        </div>
      </div>
      <div class='timeline-item'>
        <div class='timeline-date'>2022 - 2023</div>
        <div class='timeline-card'>
          <h4>Itiaki — Développeur Front-end</h4>
          <p>
            Intégration du site vitrine et des interfaces reliées au back-office
            Django, optimisation UX et responsive.
          </p>
          <ul class='timeline-tags pill-list'>
            <li>Django</li>
            <li>Bootstrap</li>
            <li>HTML/CSS/JS</li>
          </ul>
        </div>
      </div>
      <div class='timeline-item'>
        <div class='timeline-date'>2022</div>
        <div class='timeline-card'>
          <h4>Opti Digital — Front-end ADS</h4>
          <p>
            Intégration et optimisation de tags publicitaires, debug Chrome
            DevTools, contrôle via GTM.
          </p>
          <ul class='timeline-tags pill-list'>
            <li>JS</li>
            <li>Perf</li>
            <li>Ad-tech</li>
          </ul>
        </div>
      </div>
      <div class='timeline-item'>
        <div class='timeline-date'>2021 - 2022</div>
        <div class='timeline-card'>
          <h4>ilotdesarts — Front-end & back-office</h4>
          <p>
            Refonte vitrine, back-office PHP/MySQL et système de réservation en
            ligne pour ateliers.
          </p>
          <ul class='timeline-tags pill-list'>
            <li>PHP</li>
            <li>MySQL</li>
            <li>HTML/CSS/JS</li>
          </ul>
        </div>
      </div>
      <div class='timeline-item'>
        <div class='timeline-date'>Projet perso</div>
        <div class='timeline-card'>
          <h4>get-password.com — Astro.js</h4>
          <p>
            Générateur de mots de passe open-source en production, hébergé et
            maintenu par mes soins.
          </p>
          <ul class='timeline-tags pill-list'>
            <li>Astro</li>
            <li>Tailwind</li>
            <li>GitHub</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <section class='method'>
    <h3>Méthodologie</h3>
    <div class='method-grid'>
      <article class='method-card'>
        <div class='method-icon'>01</div>
        <h4>Audit perfs & accessibilité</h4>
        <ul>
          <li>Lighthouse, Core Web Vitals, dette front</li>
          <li>Accessibilité, UX rapide et responsive</li>
        </ul>
      </article>
      <article class='method-card'>
        <div class='method-icon'>02</div>
        <h4>Build Astro/Tailwind</h4>
        <ul>
          <li>HTML sémantique, design system léger</li>
          <li>Back-office/API (Django, PHP, JS)</li>
        </ul>
      </article>
      <article class='method-card'>
        <div class='method-icon'>03</div>
        <h4>Optimisation & automation</h4>
        <ul>
          <li>CI/CD, QA assistée par IA, monitoring</li>
          <li>Documentation, transfert et coaching</li>
        </ul>
      </article>
    </div>
  </section>

  <section class='fun-facts'>
    <h3>Fun facts</h3>
    <div class='facts-grid'>
      <div class='fact-card'>
        <Image
          src={Professeur}
          alt='Mentoring'
          width={48}
          height={48}
          densities={[1.5, 2]}
        />
        <h4>Formateur</h4>
        <p>Anime des ateliers web (HTML/CSS, WordPress, Digital).</p>
      </div>
      <div class='fact-card'>
        <Image
          src={Chatbot}
          alt='Communauté'
          width={48}
          height={48}
          densities={[1.5, 2]}
        />
        <h4>IA</h4>
        <p>Assistant quotidien pour analyse, debug et prototypage.</p>
      </div>
      <div class='fact-card'>
        <Image
          src={Clavier}
          alt='Rituel'
          width={48}
          height={48}
          densities={[1.5, 2]}
        />
        <h4>Stack fétiche</h4>
        <p>Astro.js + Tailwind + Vite pour les livraisons rapides.</p>
      </div>
      <div class='fact-card'>
        <Image
          src={ConsoleVideo}
          alt='Photo'
          width={48}
          height={48}
          densities={[1.5, 2]}
        />
        <h4>Jeux vidéo</h4>
        <p>Team Diablo IV et jeux solo narratifs.</p>
      </div>
    </div>
  </section>

  <section class='cta-card'>
    <div>
      <p class='eyebrow'>Prendre un café virtuel</p>
      <h3>Parlons optimisation front, perfs et Astro.js.</h3>
      <p>Je peux auditer, intégrer ou accélérer votre prochaine release.</p>
    </div>
    <button
      type='button'
      class='btn-cta popup-trigger'
      data-open-popup='call-popup'
      aria-haspopup='dialog'
    >
      Prendre contact
    </button>
  </section>
</section>

<style>
  #about {
    position: fixed;
    inset: 0;
    overflow-y: auto;
    padding: 2rem clamp(1rem, 4vw, 5rem);
    background: #f3f5fb;
  }

  #about p {
    line-height: 1.4;
  }

  .about-hero {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
    margin-bottom: 3rem;
    align-items: center;
  }

  .portrait-frame {
    position: relative;
    display: grid;
    gap: 0.6rem;
    justify-items: center;
  }

  .portrait-card {
    position: relative;
    width: min(320px, 100%);
    margin: 0 auto;
    border-radius: 999px;
    display: grid;
    place-items: center;
    box-shadow: none;
    background: transparent;
    padding: 0;
  }

  .portrait-mask {
    position: relative;
    width: clamp(200px, 32vw, 230px);
    aspect-ratio: 1 / 1;
    border-radius: 50%;
    overflow: hidden;
    background: transparent;
    animation: floatPortrait 7s ease-in-out infinite;
  }

  .portrait-mask::before {
    content: '';
    position: absolute;
    inset: -14px;
    border-radius: 50%;
    background: conic-gradient(
      from 160deg,
      rgba(13, 138, 232, 0.22),
      rgba(29, 165, 254, 0.16),
      rgba(13, 138, 232, 0.08),
      transparent 65%,
      rgba(13, 138, 232, 0.18)
    );
    filter: blur(10px);
    z-index: 0;
    animation: slowGlow 14s linear infinite;
  }

  .portrait-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: 50% 22%;
    display: block;
    position: relative;
    z-index: 1;
    filter: drop-shadow(0 10px 22px rgba(0, 0, 0, 0.16));
    border-radius: 50%;
  }

  .portrait-meta {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: #f1f5f9;
    color: #0f172a;
    padding: 0.6rem 0.95rem;
    border-radius: 999px;
    font-weight: 600;
    box-shadow: 0 10px 18px rgba(0, 0, 0, 0.08);
    border: 1px solid #e2e8f0;
    width: fit-content;
    justify-self: center;
  }

  .status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: #4ade80;
    box-shadow: 0 0 0 4px rgba(74, 222, 128, 0.18);
    animation: dotBlink 0.8s ease-in-out infinite;
  }

  @keyframes floatPortrait {
    0% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-6px);
    }
    100% {
      transform: translateY(0);
    }
  }

  @keyframes slowGlow {
    0% {
      transform: rotate(0deg);
      opacity: 0.8;
    }
    50% {
      opacity: 0.55;
    }
    100% {
      transform: rotate(360deg);
      opacity: 0.8;
    }
  }

  @keyframes dotBlink {
    0% {
      opacity: 1;
    }
    50% {
      opacity: 0.25;
    }
    100% {
      opacity: 1;
    }
  }

  .hero-text h3 {
    margin: 0.5rem 0 1rem;
    font-size: clamp(1.8rem, 2.5vw, 2.4rem);
  }

  .pill-list {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    list-style: none;
    padding: 0;
    margin: 0.75rem 0 1.25rem;
  }

  .pill-list li {
    background: #e2e8f0;
    color: #0f172a;
    padding: 0.35rem 0.65rem;
    border-radius: 999px;
    font-weight: 600;
    font-size: 0.95rem;
  }

  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    margin-top: 1.5rem;
  }

  .stats-grid strong {
    font-size: 2rem;
  }

  .timeline {
    margin-bottom: 3rem;
  }

  .timeline-list {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin-top: 1rem;
  }

  .timeline-item {
    display: grid;
    grid-template-columns: 160px 1fr;
    gap: 1rem;
    align-items: center;
  }

  .timeline-date {
    font-weight: 700;
    color: #0d8ae8;
    background: rgba(13, 138, 232, 0.08);
    padding: 0.65rem 0.9rem;
    border-radius: 12px;
    border: 1px solid rgba(13, 138, 232, 0.15);
    width: fit-content;
  }

  .timeline-card {
    position: relative;
    border-radius: 20px;
    padding: 1.35rem 1.5rem;
    background: linear-gradient(135deg, #e8f3ff, #f7fbff);
    box-shadow:
      0 20px 45px rgba(0, 0, 0, 0.08),
      0 0 0 1px rgba(13, 138, 232, 0.08);
    overflow: hidden;
  }

  .timeline-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, rgba(13, 138, 232, 0.18), transparent);
    opacity: 0.7;
    pointer-events: none;
  }

  .timeline-card h4 {
    position: relative;
    z-index: 1;
    color: #0f172a;
  }

  .timeline-card p {
    position: relative;
    z-index: 1;
    color: #1f2937;
  }

  .timeline-tags {
    gap: 0.4rem;
    margin: 0.8rem 0 0;
  }

  .timeline-tags li {
    padding: 0.35rem 0.7rem;
    font-size: 0.9rem;
    background: rgba(13, 138, 232, 0.12);
    color: #0b5394;
    border: 1px solid rgba(13, 138, 232, 0.18);
  }

  .method {
    margin-bottom: 3rem;
  }

  .method-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
  }

  .method-card {
    background: #fff;
    border-radius: 24px;
    padding: 1.5rem;
    box-shadow: 0 20px 45px rgba(0, 0, 0, 0.08);
  }

  .method-icon {
    width: 42px;
    height: 42px;
    border-radius: 12px;
    background: linear-gradient(135deg, #0d8ae8, #1da5fe);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
  }

  .method-card ul {
    padding-left: 1rem;
    color: #4f4f4f;
  }

  .fun-facts {
    margin-bottom: 3rem;
  }

  .facts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
  }

  .fact-card {
    background: #fff;
    border-radius: 20px;
    padding: 1rem 1.2rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    align-items: flex-start;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.08);
  }

  .cta-card {
    background: linear-gradient(120deg, #0d8ae8, #1da5fe);
    color: #fff;
    border-radius: 32px;
    padding: 2rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
  }

  .btn-cta {
    background: #fff;
    color: #0d8ae8;
    padding: 1rem 1.6rem;
    border-radius: 999px;
    font-weight: 700;
    font-size: 1.5rem;
    text-decoration: none;
  }

  @media (max-width: 768px) {
    .timeline-item {
      grid-template-columns: 1fr;
    }

    .cta-card {
      flex-direction: column;
    }
  }
</style>
